<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LinkBotLabs ‚Äì AI Playground</title>
<script src="https://js.puter.com/v2/"></script>
<style>
  :root {
    --background: #0b0c1a;
    --glass: rgba(11,12,26,0.45);
    --stroke: rgba(255,255,255,0.12);
    --text: #ffffff;
    --muted: #7deaff;
    --accent: #00fff7;
  }
  * { box-sizing: border-box; }
  body {
    margin:0; padding:24px;
    font-family: system-ui, Inter, sans-serif;
    background: var(--background);
    color: var(--text);
  }
  h1 { margin:0 0 18px; font-weight:700; }
  h2 { color: var(--accent); }
  .grid { display:grid; grid-template-columns:repeat(12,1fr); gap:18px; }
  .card {
    grid-column: span 12;
    background: var(--glass);
    border: 1px solid var(--stroke);
    border-radius: 16px;
    padding: 20px;
    backdrop-filter: blur(12px);
    box-shadow: 0 15px 40px rgba(0,0,0,0.6);
  }
  @media(min-width:900px){ #card-chat,#card-stream,#card-image{grid-column: span 6;} }
  label { display:block; font-size:12px; color:var(--muted); margin:8px 0 6px; }
  textarea,select {
    width:100%; background:rgba(255,255,255,0.05);
    border:1px solid var(--stroke); border-radius:12px;
    padding:12px 14px; color:var(--text); outline:none;
  }
  textarea { min-height:120px; }
  button {
    margin-top:12px; padding:12px 16px;
    background:var(--accent); color:#000;
    border:none; border-radius:12px; font-weight:700;
    cursor:pointer; transition: all .2s;
  }
  button:hover { transform:translateY(-2px); }
  .output {
    margin-top:14px; padding:16px;
    border-radius:12px; border:1px solid var(--stroke);
    background:rgba(255,255,255,0.05);
    min-height:140px; white-space:pre-wrap;
    overflow-y:auto;
  }
  .hint { font-size:12px; color:var(--muted); }
  /* --- Lock Screen --- */
  #lock-screen {
    position:fixed; inset:0; display:none;
    justify-content:center; align-items:center;
    background:rgba(0,0,0,0.9); z-index:9999;
  }
  #lock-box {
    max-width:400px; padding:25px;
    background:rgba(10,10,30,0.7);
    border:1px solid var(--accent); border-radius:15px;
    text-align:center; color:#fff;
  }
  #lock-box h2 { color:var(--accent); margin-bottom:12px; }
  #lock-box a, #lock-box button {
    display:block; margin:12px auto 0;
    padding:10px 16px; border-radius:10px;
    background:rgba(0,255,255,0.2);
    border:1px solid var(--accent); color:var(--accent);
    font-weight:bold; text-decoration:none;
    cursor:pointer;
  }
  #lock-box a:hover,#lock-box button:hover{background:rgba(0,255,255,0.4);color:#fff;}
  #lock-box input {
    width:100%; padding:10px; margin-top:12px;
    border-radius:8px; border:1px solid var(--accent);
    background:rgba(0,0,50,0.7); color:var(--accent);
  }
</style>
</head>
<body>

<h1>ü§ñ LinkBotLabs ‚Äì AI Playground</h1>
<p class="hint">Demo lasts 15 minutes. After that, please donate to unlock unlimited access across all AI apps.</p>

<div class="grid">
  <!-- Chat -->
  <div class="card" id="card-chat">
    <h2>Chat / Q&amp;A</h2>
    <label for="chat-model">Model</label>
    <select id="chat-model">
      <option value="gpt-4.1-nano" selected>GPT-4.1-nano</option>
      <option value="gpt-4.1">GPT-4.1</option>
      <option value="gpt-4o">GPT-4o</option>
      <option value="gpt-5">GPT-5</option>
      <option value="gpt-5-mini">GPT-5-mini</option>
    </select>
    <label for="chat-prompt">Prompt</label>
    <textarea id="chat-prompt" placeholder="Ask me anything..."></textarea>
    <button id="chat-run">Run</button>
    <div class="output" id="chat-out"></div>
  </div>

  <!-- Streaming -->
  <div class="card" id="card-stream">
    <h2>Streaming Responses</h2>
    <label for="stream-model">Model</label>
    <select id="stream-model">
      <option value="gpt-4.1-nano" selected>GPT-4.1-nano</option>
      <option value="gpt-4.1">GPT-4.1</option>
      <option value="gpt-4o">GPT-4o</option>
    </select>
    <label for="stream-prompt">Prompt</label>
    <textarea id="stream-prompt">Explain relativity in detail.</textarea>
    <button id="stream-run">Stream</button>
    <div class="output" id="stream-out"></div>
  </div>

  <!-- Image -->
  <div class="card" id="card-image">
    <h2>Image Generator</h2>
    <div class="hint">First use free. Unlimited use after unlock.</div>
    <label for="image-prompt">Prompt</label>
    <textarea id="image-prompt">A futuristic city skyline at night</textarea>
    <button id="image-run">Generate</button>
    <div class="output" id="image-out"></div>
  </div>
</div>

<!-- Lock screen -->
<div id="lock-screen">
  <div id="lock-box">
    <h2>üíù Demo Expired</h2>
    <p>Donate any amount once to unlock all AI apps forever.</p>
    <a href="https://wise.com/pay/me/davids14542" target="_blank">Donate via Wise</a>
    <p style="margin-top:12px;font-size:14px;color:#aaa;">
      After donation you‚Äôll receive a password.<br>Enter it below to unlock:
    </p>
    <input type="password" id="unlock-pass" placeholder="Enter password">
    <button onclick="checkPass()">Unlock</button>
  </div>
</div>

<script>
/* ---------- DEMO TIMER + UNLOCK ---------- */
const PASSWORD = "unlockai";
let unlocked = localStorage.getItem("aiUnlocked")==="true";
let demoActive = true;
setTimeout(()=>{ demoActive=false; if(!unlocked) showLock(); },15*60*1000);

function showLock(){ document.getElementById("lock-screen").style.display="flex"; }
function checkPass(){
  const val=document.getElementById("unlock-pass").value.trim();
  if(val===PASSWORD){
    unlocked=true; localStorage.setItem("aiUnlocked","true");
    document.getElementById("lock-screen").style.display="none";
    alert("‚úÖ Unlimited access unlocked across all AI apps!");
  } else {
    alert("‚ùå Wrong password. Please donate to get your unlock code.");
  }
}

/* ---------- HELPERS ---------- */
function putText(el,text){ el.innerHTML=text; }
function appendText(el,text){ el.innerHTML+=text; }
function escapeHTML(str){ return str.replace(/[&<>]/g, t=>({"&":"&amp;","<":"&lt;",">":"&gt;"}[t])); }
function normalizeResp(r){ return r?.output_text||r?.text||r?.message?.content||r||""; }

/* ---------- CHAT ---------- */
async function runChat(){
  if(!unlocked && !demoActive) return showLock();
  const m=document.getElementById("chat-model").value;
  const p=document.getElementById("chat-prompt").value.trim();
  const o=document.getElementById("chat-out");
  if(!p) return putText(o,"Enter a prompt");
  putText(o,"Thinking‚Ä¶");
  try{ const r=await puter.ai.chat(p,{model:m}); putText(o,escapeHTML(normalizeResp(r)).replaceAll("\n","<br>")); }
  catch(e){ putText(o,"Error: "+e.message); }
}
document.getElementById("chat-run").onclick=runChat;

/* ---------- STREAM ---------- */
async function runStream(){
  if(!unlocked && !demoActive) return showLock();
  const m=document.getElementById("stream-model").value;
  const p=document.getElementById("stream-prompt").value.trim();
  const o=document.getElementById("stream-out");
  putText(o,"");
  try{
    const s=await puter.ai.chat(p,{model:m,stream:true});
    for await(const part of s){ appendText(o,escapeHTML(normalizeResp(part)).replaceAll("\n","<br>")); }
  }catch(e){ putText(o,"Error: "+e.message); }
}
document.getElementById("stream-run").onclick=runStream;

/* ---------- IMAGE ---------- */
let usedImage=false;
async function runImage(){
  if(!unlocked && !demoActive){
    if(!usedImage){ usedImage=true; localStorage.setItem("imageUsed","true"); }
    else return showLock();
  }
  const p=document.getElementById("image-prompt").value.trim();
  const o=document.getElementById("image-out");
  putText(o,"Generating...");
  try{
    const r=await puter.ai.image(p,{size:"512x512"});
    if(r?.url) putText(o,'<img src="'+r.url+'" style="max-width:100%;border-radius:10px;">');
    else putText(o,"No image returned.");
  }catch(e){ putText(o,"Error: "+e.message); }
}
document.getElementById("image-run").onclick=runImage;
</script>
</body>
</html>
